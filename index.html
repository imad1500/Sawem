<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sawem Shop</title>
  <meta name="description" content="Sawem Shop - Produits tech et Ã©lectroniques">
  <meta name="verify-admitad" content="5ae23ad5f3" />

  <!-- Preconnect -->
  <link rel="preconnect" href="https://sawem-backend.onrender.com">
  <link rel="preconnect" href="https://api.jina.ai">
  <link rel="dns-prefetch" href="//ui-avatars.com">
  <link rel="icon" type="image/png" href="Images/icone_Sawem.shop.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ==================== HEADER ==================== -->
  <header>
    <div class="container header-container">
      <div class="header-left">
        <h1>Sawem.shop</h1>
        <span class="cart">ğŸ›’</span>
      </div>
      <div class="header-right">
        <div id="authStatus" class="auth-status loading">â³ VÃ©rification...</div>
        <div id="userInfo" class="user-info" style="display:none;">
          <img id="userAvatar" class="user-avatar" src="" alt="Avatar" width="32" height="32" loading="lazy"/>
          <div class="user-details">
            <div id="userName" class="user-name"></div>
            <div id="userEmail" class="user-email"></div>
          </div>
          <button id="logoutBtn" class="logout-btn" type="button">DÃ©connexion</button>
        </div>
        <a id="adminLink" class="admin-link" href="/admin.html" style="display:none;">ğŸ”§ Administration</a>
        <a id="googleLoginBtn" class="google-btn" href="#" style="display:none;">Se connecter avec Google</a>
      </div>
    </div>
  </header>

  <!-- ==================== NOTIFICATION ==================== -->
  <div id="notification" class="notification" role="alert" aria-live="polite"></div>

  <!-- ==================== MAIN ==================== -->
  <main class="container">

    <!-- ===== RECHERCHE & FILTRES ===== -->
    <section class="search-section">
      <h2 class="section-title">Recherche & Filtres</h2>

      <!-- Barre de recherche principale -->
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Rechercher des produits..." class="search-input">
        <div class="search-buttons">
          <button id="textSearchBtn" class="search-btn text-search" title="Recherche textuelle rapide">
            ğŸ” Recherche
          </button>
          <button id="aiSearchBtn" class="search-btn ai-search" title="Recherche IA intelligente">
            ğŸ¤– Recherche IA
          </button>
        </div>
      </div>

      <!-- CatÃ©gories -->
      <div class="categories-section">
        <h2>ğŸ” Recherche par catÃ©gorie</h2>
        <div class="categories-grid">
          <button class="category-btn" data-search="smartphones">ğŸ“± Smartphones</button>
          <button class="category-btn" data-search="laptops">ğŸ’» Laptops</button>
          <button class="category-btn" data-search="casques audio">ğŸ§ Casques Audio</button>
          <button class="category-btn" data-search="montres connectÃ©es">âŒš Montres ConnectÃ©es</button>
          <button class="category-btn" data-search="tablettes">ğŸ“± Tablettes</button>
          <button class="category-btn" data-search="appareils photo">ğŸ“¸ Appareils Photo</button>
          <button class="category-btn" data-search="gaming">ğŸ® Gaming</button>
          <button class="category-btn" data-search="drones">ğŸš Drones</button>
          <button class="category-btn" data-search="enceintes">ğŸ”Š Enceintes</button>
          <button class="category-btn" data-search="claviers">âŒ¨ï¸ Claviers</button>
          <button class="category-btn" data-search="souris">ğŸ–±ï¸ Souris</button>
          <button class="category-btn" data-search="Ã©crans">ğŸ–¥ï¸ Ã‰crans</button>
        </div>
      </div>

      <!-- Filtres avancÃ©s -->
      <div class="filters-container">
        <div class="filter-group">
          <label for="sourceFilter">Source :</label>
          <select id="sourceFilter" class="filter-select">
            <option value="">Toutes les sources</option>
            <option value="aliexpress">AliExpress</option>
            <option value="amazon">Amazon</option>
            <option value="other">Autres</option>
          </select>
        </div>

        <div class="filter-group price-filter-group">
          <label for="priceRange">Gamme de prix :</label>
          <div class="price-range-container">
            <input type="range" id="priceMinRange" class="price-slider" min="0" max="1000" value="0" step="10">
            <input type="range" id="priceMaxRange" class="price-slider" min="0" max="1000" value="1000" step="10">
            <div class="price-display">
              <span id="priceMinDisplay">0â‚¬</span> - <span id="priceMaxDisplay">1000â‚¬+</span>
            </div>
          </div>
        </div>

        <div class="filter-group">
          <label for="sortBy">Trier par :</label>
          <select id="sortBy" class="filter-select">
            <option value="relevance">Pertinence</option>
            <option value="price_asc">Prix croissant</option>
            <option value="price_desc">Prix dÃ©croissant</option>
            <option value="rating_desc">Meilleures notes</option>
            <option value="newest">Plus rÃ©cents</option>
          </select>
        </div>

        <button id="clearFiltersBtn" class="clear-filters-btn">ğŸ—‘ï¸ RÃ©initialiser les filtres</button>
      </div>
    </section>

    <!-- ===== MESSAGE DE BIENVENUE ===== -->
    <div id="welcomeMessage" class="welcome-message" style="display:none;">
      <h3>Bienvenue <span id="welcomeUserName"></span> ! ğŸ‘‹</h3>
      <p>Vous pouvez maintenant voter et laisser des avis sur les produits.</p>
    </div>

    <!-- ===== STATISTIQUES (remplacÃ©) ===== -->
    <div id="searchStats" class="search-stats" style="display: none;">
      <div class="search-results-info">
        <span id="resultsCount">0 rÃ©sultats</span>
        <span id="searchQuery"></span>
      </div>
    </div>

    <!-- ===== PRODUITS ===== -->
    <div id="productsContainer" class="products-container">
      <div class="loading-skeleton">
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
      </div>
    </div>

    <!-- ===== PAGINATION ===== -->
    <div id="pagination" class="pagination" style="display:none;">
      <button id="prevPageBtn" class="page-btn">â† PrÃ©cÃ©dent</button>
      <span id="pageInfo" class="page-info">Page 1</span>
      <button id="nextPageBtn" class="page-btn">Suivant â†’</button>
    </div>

  </main>

  <!-- ==================== FOOTER ==================== -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Sawem.shop - Tous droits rÃ©servÃ©s. | +33 7 45 43 87 28 | 
      <a href="mailto:imadbelkaceminfo@gmail.com">imadbelkaceminfo@gmail.com</a></p>
    </div>
  </footer>

  <!-- ==================== SCRIPTS ==================== -->
  <script>
    // Gestion des recherches
    const searchInput = document.getElementById("searchInput");
    const textSearchBtn = document.getElementById("textSearchBtn");
    const aiSearchBtn = document.getElementById("aiSearchBtn");
    const categoryBtns = document.querySelectorAll(".category-btn");
    const productsContainer = document.getElementById("productsContainer");
    const searchStats = document.getElementById("searchStats");
    const resultsCount = document.getElementById("resultsCount");
    const searchQuery = document.getElementById("searchQuery");

    function performTextSearch(query) {
      if (!query) return;
      searchStats.style.display = "block";
      searchQuery.textContent = `pour "${query}"`;
      resultsCount.textContent = "Chargement...";
      productsContainer.innerHTML = "<p>ğŸ”„ Recherche en cours...</p>";
      // Ici tu ajoutes ton fetch API backend
    }

    function performAISearch(query) {
      if (!query) return;
      searchStats.style.display = "block";
      searchQuery.textContent = `IA pour "${query}"`;
      resultsCount.textContent = "Chargement...";
      productsContainer.innerHTML = "<p>ğŸ¤– Recherche IA en cours...</p>";
      // Ici tu ajoutes ton fetch API backend IA
    }

    textSearchBtn.addEventListener("click", () => {
      performTextSearch(searchInput.value.trim());
    });

    aiSearchBtn.addEventListener("click", () => {
      performAISearch(searchInput.value.trim());
    });

    categoryBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        const query = btn.getAttribute("data-search");
        performTextSearch(query);
      });
    });
  </script>

</body>
</html>
